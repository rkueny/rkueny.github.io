I"Z<p>Vous avez un site ? Un blog ? Ou vous crÃ©ez des sites ? NÃ©cessairement vous avez donc un formulaire de contactâ€¦ Il ne vous ai jamais arrivÃ© de recevoir des mails bizarres ? Vous savezâ€¦ des spams !!! <img src="http://rkueny.fr/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>Voici un petit moyen dâ€™Ã©viter que cela ne vous arrive de nouveau. Ce nâ€™est pas compliquÃ© et cela pourra vous Ã©viter de recevoir encore plus de spams <img src="http://rkueny.fr/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p><strong>Askimet est ton ami</strong></p>

<p>Si vous tenez un blog, vous avez sÃ»rement dÃ©jÃ  le plugin Â«Â AskimetÂ Â» installÃ© pour filtrer les spams pour vos commentaires. Et bien nous allons utiliser le mÃªme fonctionnement pour vos formulaires. Vous pourrez lâ€™utiliser pour vos formulaires de contact, votre livre dâ€™or ou encore vos commentaires sur un article.</p>

<p>Allez on est partis <img src="http://rkueny.fr/wp-includes/images/smilies/icon_wink.gif" alt=";)" class="wp-smiley" /><!--more--></p>

<p><strong>PremiÃ¨re Ã©tape : obtenir une clÃ© Â«Â AskimetÂ Â»</strong></p>

<p>Ce systÃ¨me utilisant une clÃ© il vous faudra lâ€™obtenir. Rien de plus simple pour cela. Rendez vous sur <a title="SystÃ¨me d'enregistrement d'une clÃ© askimet" href="http://akismet.com/personal/" target="_blank">le systÃ¨me dâ€™enregistrement</a>, entrez votre adresse mail et vous recevrez un beau mail avec votre clÃ© Â«Â AskimetÂ Â».</p>

<blockquote>
  <p><em>Your Akismet API key is: *<strong>*</strong>*<strong>*</strong></em></p>
</blockquote>

<p><strong>DeuxiÃ¨me Ã©tape : tÃ©lÃ©charger Â«Â AskimetÂ Â»</strong></p>

<p>Une fois votre clÃ© acquise, vous devez tÃ©lÃ©charger le systÃ¨me. Je vous propose de tÃ©lÃ©charger la classe PHP 5 crÃ©e par <a title="Aching Brain - site personnel" href="http://www.achingbrain.net/" target="_blank">Aching Brain</a>.</p>

<p style="text-align: center;">
  <a title="Classe PHP 5 : Askimet" href="http://www.achingbrain.net/files/PHP5Akismet/PHP5Akismet.0.4.tar.gz" target="_blank"><img class="aligncenter" src="http://akismet.com/i/download-button.png" alt="" /></a>
</p>

<p><strong>TroisiÃ¨me Ã©tape : mettre en place le code</strong></p>

<p>Une fois la classe tÃ©lÃ©chargÃ©e nous allons voir comment mettre Â«Â AskimetÂ Â» en place.</p>

<pre>// dÃ©finition des variables utiles
$apiKey  = '<em>************</em>';
$siteUrl = 'http://rkueny.fr';

// vous devrez sans doute gÃ©rer les variables de votre formulaire ici
// exemple : $authorComment = $_POST['authorComment'];

/*
* initialisation de la classe
* ajout des informations utiles (auteur, email, url, contenu)
*/
$askimet = new Askimet($siteUrl, $apiKey);
$askimet-&gt;setCommentAuthor($authorComment);
$askimet-&gt;setCommentAuthorEmail($emailComment);
$askimet-&gt;setCommentAuthorURL($urlComment);
$askimet-&gt;setCommentContent($contentComment);

// on test s'il s'agit d'un spam ou pas
if($askimet-&gt;isCommentSpame()){
     // c'est un spam
}else{
     // ce n'est pas un spam
}</pre>

<p>Et voilÃ , rien de plus simple <img src="http://rkueny.fr/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> Vous avez un trÃ¨s bon systÃ¨me de filtrage de spam en place.</p>

<p>Un dernier conseil. Â«Â AskimetÂ Â» nâ€™est pas fiable Ã  100%. Du coup, enregistrez tout de mÃªme les commentaires considÃ©rÃ©s comme du spam, avec possibilitÃ© de les valider par la suite ou de les supprimer. (un simple champ dans la BDD : validate / 1 ou 0).</p>

<p>Si vous avez des questions, ou si vous voulez plus de renseignement, nâ€™hÃ©sitez pas Ã  laisser un commentaire.</p>
:ET