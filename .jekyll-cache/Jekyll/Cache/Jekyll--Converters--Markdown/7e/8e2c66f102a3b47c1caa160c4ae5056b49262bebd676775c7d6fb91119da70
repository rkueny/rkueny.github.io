I"∏;<p>Bonjour √† tout le monde.<br />
Ces derniers temps je suis √† fond sur l‚Äôobjet en PHP. En effet, cela a beaucoup d‚Äôavantage et surtout cela m‚Äôaide √† structurer mon code.</p>

<p>Beaucoup de personnes ne savent pas comment d√©buter. En effet, les livres sur le sujet sont moyens et les tutoriels ne sont pas foison sur le sujet !</p>

<p>Je vous ai donc d√©nich√© un tutoriel en 6 parties. Il est √©crit par Methylbro, un d√©veloppeur web toulousain. Voici le lien :</p>

<p style="text-align: center;">
  <a href="http://methylbro.titaxium.org/post/2008/04/13/Introduction-a-la-POO-avec-PHP">Article POO avec PHP</a>
</p>

<p style="text-align: left;">
  C&rsquo;est pas mal √©crit et le concept assez bien expliqu√©. En revanche, dans le dernier billet il nous l√¢che une classe sans commentaire ni quoi que se soit et je vais donc essayer de vous l&rsquo;expliquer un peu plus.
</p>

<p style="text-align: left;">
  <!--more-->
</p>

<p style="text-align: left;">
  Tout d&rsquo;abord la classe en question :
</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> Stylo <span style="color: #009900;">&#123;</span>
&nbsp;
static <span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre_max</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">100</span><span style="color: #339933;">;</span>
static <span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre_min</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">25</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">protected</span> <span style="color: #000088;">$couleur_normale</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'#000000'</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">protected</span> <span style="color: #000088;">$couleur_fin</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'#C0C0C0'</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$statut</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000000; font-weight: bold;">function</span> peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">&amp;</span>lt<span style="color: #339933;">;=</span><span style="color: #cc66cc;"></span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
  <span style="color: #b1b100;">return</span> <span style="color: #000088;">$result</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> __construct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
      <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_max</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> click<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> ecrire<span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt; style="color:'</span><span style="color: #339933;">.</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>couleur_normale<span style="color: #339933;">.</span><span style="color: #0000ff;">'"&gt;'</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$nb_caracteres</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strlen</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$texte</span> <span style="color: #339933;">=</span> <span style="color: #990000;">htmlentities</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$texte</span> <span style="color: #339933;">=</span> <span style="color: #990000;">str_split</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;"></span><span style="color: #339933;">;</span>
&nbsp;
          <span style="color: #b1b100;">while</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&amp;</span>amp<span style="color: #339933;">;&amp;</span>amp<span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">=</span><span style="color: #000088;">$nb_caracteres</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
               <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">==</span><span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_min</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000088;">$format</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;span&gt;%s'</span><span style="color: #339933;">;</span>
               <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000088;">$format</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"<span style="color: #009933; font-weight: bold;">%s</span>"</span><span style="color: #339933;">;</span>
               <span style="color: #009900;">&#125;</span>
     <span style="color: #990000;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$format</span><span style="color: #339933;">,</span> <span style="color: #000088;">$texte</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
     <span style="color: #000088;">$i</span><span style="color: #339933;">++;</span>
     <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre <span style="color: #339933;">--;</span>
     <span style="color: #009900;">&#125;</span>
&nbsp;
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">&amp;</span>lt<span style="color: #339933;">;=</span><span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_min</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">""</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
&nbsp;
     <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">"
&nbsp;
n"</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #009900;">&#125;</span>
<span style="color: #339933;">&lt;/</span>span<span style="color: #339933;">&gt;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><em>(cliquez sur la fl√®che vers le bas pour voir le code)</em></p>

<p>A√Øe √ßa fait mal si vous √™tes totalement d√©butant non ?* Je ne* vais pas reprendre et expliquer tout le code ligne √† ligne mais les points qui me semblent flou √† la premi√®re lecture seulement. Si des questions subsistent n‚Äôh√©sitez pas √† me poser des questions via des commentaires ou sur le <a href="http://methylbro.titaxium.org/">blog de Methylbro</a>.</p>

<p>1/ La d√©claration des variables ne devraient pas vous poser de probl√®me. Ils en parlent un peu dans le commentaires de l‚Äôarticle d‚Äôailleurs.</p>

<p>2/ La fonction <em>peutEcrire()</em> ne devrait pas poser de probl√®me non plus.</p>

<p>3/ Dans le constructeur il fait appel au mot cl√© <em>¬´¬†::self¬†¬ª</em>. C‚Äôest tr√®s simple en fait. Cela permet d‚Äôappeller les propri√©t√©s d√©clar√©s en statique. Cela peut aussi √™tre utilis√© avec une m√©thode statique.</p>

<p>4/ La fonction *click() *est simple aussi. Elle permet de fermer le stylo s‚Äôil est ouvert et inversement.</p>

<p>5/ La fonction <em>ecrire()</em> est compliqu√©e, enfin pas tellement, mais un peu longue au premier abord ^^. Prenez votre courage √† deux mains, elle n‚Äôest pas dure √† comprendre. Elle √©crit ce qu‚Äôon lui demande selon le niveau d‚Äôencre. Quand on arrive √† la fin du niveau d‚Äôencre la couleur d‚Äô√©criture change (simulation du manque d‚Äôencre) puis n‚Äô√©cris plus quand il n‚Äôy a plus d‚Äôencres.<br />
N‚Äôh√©sitez pas √† copier-coller la classe pour voir ce que cela donne dans votre naviguateur. Ainsi vous comprendrez mieux le fonctionnement de cette classe et vous pourrez donc mieux r√©utiliser cet outil.</p>

<p>Utilisation de la classe :</p>

<pre>// on initialise l'objet
     $monBic = new Stylo();
// √ßa n'√©crira pas, car le stylo est ferm√© de base
     $monBic-&gt;ecrire(‚ÄòEssayez d‚Äô√©crire sans enlever le capuchon‚Ä¶‚Äô) ;
// on "ouvre" le stylo"
     $monBic-&gt;click() ;
// √©criture normale
     $monBic-&gt;ecrire(‚ÄòUn premier paragraphe.‚Äô) ;
// √ßa va √™tre long, √ßa va couper avant la fin car plus d'encre.
     $monBic-&gt;ecrire(‚ÄòUn second paragraphe qui n‚Äôiras pas jusque au bout car mon stylo va certainement manquer d‚Äôencre.‚Äô);</pre>

<p>Voil√†, j‚Äôesp√®re que ce compl√©ment d‚Äôaide vous aura aider. Accrochez vous √† la POO si vous codez en php. Il y‚Äôa un petit moment d‚Äôadaptation mais le confort arrive tr√®s vite croyez moi.</p>

<p>A bient√¥t.</p>

:ET