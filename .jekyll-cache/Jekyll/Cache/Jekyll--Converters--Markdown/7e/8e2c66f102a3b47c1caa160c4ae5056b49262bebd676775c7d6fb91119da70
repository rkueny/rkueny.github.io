I"¸;<p>Bonjour Ã  tout le monde.<br />
Ces derniers temps je suis Ã  fond sur lâ€™objet en PHP. En effet, cela a beaucoup dâ€™avantage et surtout cela mâ€™aide Ã  structurer mon code.</p>

<p>Beaucoup de personnes ne savent pas comment dÃ©buter. En effet, les livres sur le sujet sont moyens et les tutoriels ne sont pas foison sur le sujet !</p>

<p>Je vous ai donc dÃ©nichÃ© un tutoriel en 6 parties. Il est Ã©crit par Methylbro, un dÃ©veloppeur web toulousain. Voici le lien :</p>

<p style="text-align: center;">
  <a href="http://methylbro.titaxium.org/post/2008/04/13/Introduction-a-la-POO-avec-PHP">Article POO avec PHP</a>
</p>

<p style="text-align: left;">
  C&rsquo;est pas mal Ã©crit et le concept assez bien expliquÃ©. En revanche, dans le dernier billet il nous lÃ¢che une classe sans commentaire ni quoi que se soit et je vais donc essayer de vous l&rsquo;expliquer un peu plus.
</p>

<p style="text-align: left;">
  <!--more-->
</p>

<p style="text-align: left;">
  Tout d&rsquo;abord la classe en question :
</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> Stylo <span style="color: #009900;">&#123;</span>
&nbsp;
static <span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre_max</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">100</span><span style="color: #339933;">;</span>
static <span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre_min</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">25</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000088;">$niveau_encre</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">protected</span> <span style="color: #000088;">$couleur_normale</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'#000000'</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">protected</span> <span style="color: #000088;">$couleur_fin</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'#C0C0C0'</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$statut</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000000; font-weight: bold;">function</span> peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">&amp;</span>lt<span style="color: #339933;">;=</span><span style="color: #cc66cc;"></span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
  <span style="color: #b1b100;">return</span> <span style="color: #000088;">$result</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> __construct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
      <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_max</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> click<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>statut <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> ecrire<span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt; style="color:'</span><span style="color: #339933;">.</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>couleur_normale<span style="color: #339933;">.</span><span style="color: #0000ff;">'"&gt;'</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$nb_caracteres</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strlen</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$texte</span> <span style="color: #339933;">=</span> <span style="color: #990000;">htmlentities</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$texte</span> <span style="color: #339933;">=</span> <span style="color: #990000;">str_split</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$texte</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
          <span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;"></span><span style="color: #339933;">;</span>
&nbsp;
          <span style="color: #b1b100;">while</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>peutEcrire<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&amp;</span>amp<span style="color: #339933;">;&amp;</span>amp<span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">=</span><span style="color: #000088;">$nb_caracteres</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
               <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">==</span><span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_min</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000088;">$format</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;span&gt;%s'</span><span style="color: #339933;">;</span>
               <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000088;">$format</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"<span style="color: #009933; font-weight: bold;">%s</span>"</span><span style="color: #339933;">;</span>
               <span style="color: #009900;">&#125;</span>
     <span style="color: #990000;">printf</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$format</span><span style="color: #339933;">,</span> <span style="color: #000088;">$texte</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
     <span style="color: #000088;">$i</span><span style="color: #339933;">++;</span>
     <span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre <span style="color: #339933;">--;</span>
     <span style="color: #009900;">&#125;</span>
&nbsp;
     <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$this</span><span style="color: #339933;">-&amp;</span>gt<span style="color: #339933;">;</span>niveau_encre<span style="color: #339933;">&amp;</span>lt<span style="color: #339933;">;=</span><span style="color: #000000; font-weight: bold;">self</span><span style="color: #339933;">::</span><span style="color: #000088;">$niveau_encre_min</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
          <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">""</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
&nbsp;
     <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">"
&nbsp;
n"</span><span style="color: #339933;">;</span>
     <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #009900;">&#125;</span>
<span style="color: #339933;">&lt;/</span>span<span style="color: #339933;">&gt;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><em>(cliquez sur la flÃ¨che vers le bas pour voir le code)</em></p>

<p>AÃ¯e Ã§a fait mal si vous Ãªtes totalement dÃ©butant non ?* Je ne* vais pas reprendre et expliquer tout le code ligne Ã  ligne mais les points qui me semblent flou Ã  la premiÃ¨re lecture seulement. Si des questions subsistent nâ€™hÃ©sitez pas Ã  me poser des questions via des commentaires ou sur le <a href="http://methylbro.titaxium.org/">blog de Methylbro</a>.</p>

<p>1/ La dÃ©claration des variables ne devraient pas vous poser de problÃ¨me. Ils en parlent un peu dans le commentaires de lâ€™article dâ€™ailleurs.</p>

<p>2/ La fonction <em>peutEcrire()</em> ne devrait pas poser de problÃ¨me non plus.</p>

<p>3/ Dans le constructeur il fait appel au mot clÃ© <em>Â«Â ::selfÂ Â»</em>. Câ€™est trÃ¨s simple en fait. Cela permet dâ€™appeller les propriÃ©tÃ©s dÃ©clarÃ©s en statique. Cela peut aussi Ãªtre utilisÃ© avec une mÃ©thode statique.</p>

<p>4/ La fonction *click() *est simple aussi. Elle permet de fermer le stylo sâ€™il est ouvert et inversement.</p>

<p>5/ La fonction <em>ecrire()</em> est compliquÃ©e, enfin pas tellement, mais un peu longue au premier abord ^^. Prenez votre courage Ã  deux mains, elle nâ€™est pas dure Ã  comprendre. Elle Ã©crit ce quâ€™on lui demande selon le niveau dâ€™encre. Quand on arrive Ã  la fin du niveau dâ€™encre la couleur dâ€™Ã©criture change (simulation du manque dâ€™encre) puis nâ€™Ã©cris plus quand il nâ€™y a plus dâ€™encres.<br />
Nâ€™hÃ©sitez pas Ã  copier-coller la classe pour voir ce que cela donne dans votre naviguateur. Ainsi vous comprendrez mieux le fonctionnement de cette classe et vous pourrez donc mieux rÃ©utiliser cet outil.</p>

<p>Utilisation de la classe :</p>

<pre>// on initialise l'objet
     $monBic = new Stylo();
// Ã§a n'Ã©crira pas, car le stylo est fermÃ© de base
     $monBic-&gt;ecrire(â€˜Essayez dâ€™Ã©crire sans enlever le capuchonâ€¦â€™) ;
// on "ouvre" le stylo"
     $monBic-&gt;click() ;
// Ã©criture normale
     $monBic-&gt;ecrire(â€˜Un premier paragraphe.â€™) ;
// Ã§a va Ãªtre long, Ã§a va couper avant la fin car plus d'encre.
     $monBic-&gt;ecrire(â€˜Un second paragraphe qui nâ€™iras pas jusque au bout car mon stylo va certainement manquer dâ€™encre.â€™);</pre>

<p>VoilÃ , jâ€™espÃ¨re que ce complÃ©ment dâ€™aide vous aura aider. Accrochez vous Ã  la POO si vous codez en php. Il yâ€™a un petit moment dâ€™adaptation mais le confort arrive trÃ¨s vite croyez moi.</p>

<p>A bientÃ´t.</p>

:ET